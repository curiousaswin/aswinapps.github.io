
 <!DOCTYPE html>
<html lang="en">
<head>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>

<!-- Popper JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<!--draggable-->
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  
   <link  href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <!--Pacifico-->
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet'>
  <!--ICONS-->
 <script src="https://kit.fontawesome.com/3e2a93553e.js" crossorigin="anonymous"></script>
 <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
      <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.min.js"></script>
      <link rel="icon" href="https://i.ibb.co/6J2xc5Y/Masterslides-Icon.jpg" 	type = "image/x-icon">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/Base64/1.1.0/base64.min.js" integrity="sha512-gysqkfMGKYvQSEPi68aIzL4ffmrQ0I6azOoPJ+ocle8k1bblsHJh7QVVoy4HHQG2iPzvFmRbs81d8kkVSyCkjA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/Base64/1.1.0/base64.js" integrity="sha512-S1ZwdmlDDaFLXAWsXRXKnbkNNpmlWFlp5QEsJeiUQnzeLpzp1vxJyMdpCSAgEoAJY21LpQfCyYQ+z+W+1F84Kw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <meta charset="UTF-8">
    <title>Aswin's MasterSlide</title>
    <style>
        .slideer{
            width:700px;
            height:500px;
            background-color:white;
        }
        body{
            background-image: url('https://cdn.wallpapersafari.com/93/24/oUE9uI.png');
        }
        .ui-effects-explode { margin : 0 }
          #loader {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 1;
  width: 130px;
  height: 130px;
  margin: -76px 0 0 -76px;
 @keyframes fadein {
    from {
        opacity:0;
    }
    to {
        opacity:1;
    }
}
@-moz-keyframes fadein { /* Firefox */
    from {
        opacity:0;
    }
    to {
        opacity:1;
    }
}
@-webkit-keyframes fadein { /* Safari and Chrome */
    from {
        opacity:0;
    }
    to {
        opacity:1;
    }
}
@-o-keyframes fadein { /* Opera */
    from {
        opacity:0;
    }
    to {
        opacity: 1;
    }
}

}


</style>
    <script>
      function leavepagealert(){
    return"";
}

    
     
      </script>
</head>

<body  onbeforeunload="return leavepagealert()" onload="myFunction()">
    <script>
        function newslide(){
          
            var nameofslide= document.getElementById('slidename').value;
            var div=document.createElement("div")
            div.id=nameofslide+"container";
            div.className = "slidecontainers collapse show";
            div.style.position="relative";
             div.setAttribute('name', 'slidesforuse');
            document.getElementById('slides').appendChild(div);
            var slide = document.createElement('div');
            slide.style.width="700px";
            slide.style.height="500px";
            slide.className = "slideer";
            slide.style.border = "9px solid black";
            slide.style.position="relative";
            slide.style.backgroundColor = "white";
          
            slide.id=nameofslide;
           
            document.getElementById(nameofslide+"container").appendChild(slide);
            var heading=document.createElement('h1');
            heading.contentEditable="true";
            heading.innerHTML="This is a heading";
            document.getElementById(nameofslide).appendChild(heading);
            var paragraph=document.createElement('p');
            paragraph.contentEditable="true";
            paragraph.innerHTML="This is a Paragraph";
            document.getElementById(nameofslide).appendChild(paragraph);
             var remove = document.createElement('button');
             remove.className="btn btn-warning";
             remove.innerHTML = "Remove this Slide";
             remove.setAttribute("onclick", "document.getElementById('"+nameofslide+"container').remove();document.getElementById('"+nameofslide+"control').remove()");
             div.appendChild(remove);
            var slidename2="#" + nameofslide+"container";
            var buttontext = "<br><br><button class='btn btn-danger' style='position: absolute;bottom: 0;' data-toggle='collapse'" + "data-target='"+slidename2+"'>Stop Editing This Slide</button>";
            $(slidename2).append(buttontext);
            var controltext = "<button  class='btn btn-primary'  id='"+nameofslide+"control' "+"data-toggle='collapse'" + "data-target='"+slidename2+"'>"+nameofslide+"</button>";

   
            $("#lists").append(controltext);
            
 $(function() {
    var p = document.getElementsByTagName('p');
    $(p).draggable();
  });
$(function() {
    var h1 = document.getElementsByTagName('h1');
    $(h1).draggable();
  });
document.getElementById('slidename').value="";

}
   function headingandlist(){
            var nameofslide= document.getElementById('slidename').value;
            var div=document.createElement("div")
            div.id=nameofslide+"container";
            div.className = "slidecontainers collapse show";
            div.style.position="relative";
             div.setAttribute('name', 'slidesforuse');
            document.getElementById('slides').appendChild(div);
            var slide = document.createElement('div');
            slide.style.width="700px";
            slide.style.height="500px";
            slide.className = "slideer";
            slide.style.border = "9px solid black";
            slide.style.position="relative";
            slide.style.backgroundColor = "white";
          
            slide.id=nameofslide;
          
            document.getElementById(nameofslide+"container").appendChild(slide);
            var heading=document.createElement('h1');
            heading.contentEditable="true";
            heading.innerHTML="This is a heading";
            document.getElementById(nameofslide).appendChild(heading);
     $("#"+nameofslide).append("<ul draggable='false' contenteditable='true'><li>This is a list</li></ul>");
      var remove = document.createElement('button');
             remove.className="btn btn-warning";
             remove.innerHTML = "Remove this Slide";
             remove.setAttribute("onclick", "document.getElementById('"+nameofslide+"container').remove();document.getElementById('"+nameofslide+"control').remove()");
             div.appendChild(remove);
            var slidename2="#" + nameofslide+"container";
            var buttontext = "<br><br><BR><div style='position: absolute;bottom: 0;'><button class='btn btn-danger'  data-toggle='collapse'" + "data-target='"+slidename2+"'>Stop Editing This Slide</button><span style='color:white;'><b>Coming Soon:</b>You can drag around lists.</span></div>";
            $(slidename2).append(buttontext);
             var controltext = "<button  class='btn btn-primary'  id='"+nameofslide+"control' "+"data-toggle='collapse'" + "data-target='"+slidename2+"'>"+nameofslide+"</button>";

   
            $("#lists").append(controltext);
            

$(function() {
    var h1 = document.getElementsByTagName('h1');
    $(h1).draggable();
  });
document.getElementById('slidename').value="";

}
   function headingandimage(){
            var nameofslide= document.getElementById('slidename').value;
            var div=document.createElement("div")
            div.id=nameofslide+"container";
            div.className = "slidecontainers collapse show";
            div.style.position="relative";
             div.setAttribute('name', 'slidesforuse');
            document.getElementById('slides').appendChild(div);
            var slide = document.createElement('div');
            slide.style.width="700px";
            slide.style.height="500px";
            slide.className = "slideer";
            slide.style.border = "9px solid black";
            slide.style.position="relative";
            slide.style.backgroundColor = "white";
          
            slide.id=nameofslide;
            
            document.getElementById(nameofslide+"container").appendChild(slide);
            var heading=document.createElement('h1');
            heading.contentEditable="true";
            heading.innerHTML="This is a heading";
            document.getElementById(nameofslide).appendChild(heading);
    var imagediv = document.createElement('div');
    imagediv.id= nameofslide + "imagediv";
     
       
       document.getElementById(nameofslide).appendChild(imagediv);
   

   var imagestouse = document.getElementById('fileimage');
  // Make sure we have files to use
  var image = document.createElement('img');
 image.src = window.URL.createObjectURL(imagestouse.files[0])
 
image.id = nameofslide + "image";

  // Allow us to control the audio
 image.style.width=document.getElementById('widthforimage').value+"px";
 image.style.height=document.getElementById('heightforimage').value+"px";
  // Set the src and start loading the audio from the file
 

document.getElementById(nameofslide + "imagediv").appendChild(image);
 var remove = document.createElement('button');
             remove.className="btn btn-warning";
             remove.innerHTML = "Remove this Slide";
             remove.setAttribute("onclick", "document.getElementById('"+nameofslide+"container').remove();document.getElementById('"+nameofslide+"control').remove()");
             div.appendChild(remove);

            var slidename2="#" + nameofslide+"container";
            var buttontext = "<br><br><BR><bR><div style='position: absolute;bottom: 0;'><button class='btn btn-danger'  data-toggle='collapse'" + "data-target='"+slidename2+"'>Stop Editing This Slide</button><span style='color:white;'><b>Coming Soon:</b>You can drag around lists.</span>"+"</div><br>";
            
            $(slidename2).append(buttontext);
            var usableid = nameofslide+"color";
            /*var backgroundcolor = "<input style='position: absolute;bottom: 0;' type='color' id='"+usableid+"' value='#FFFFFF' onchange='"+nameofslide+".style.backgroundColor=this.value;'>"
                 $(slidename2).append(backgroundcolor);*/
             var controltext = "<button  class='btn btn-primary'  id='"+nameofslide+"control' "+"data-toggle='collapse'" + "data-target='"+slidename2+"'>"+nameofslide+"</button>";

   
            $("#lists").append(controltext);
            

$(function() {
    var h1 = document.getElementsByTagName('h1');
    $(h1).draggable();
  });
$(function() {
    var img = document.getElementsByTagName('img');
    $(img).draggable();
  });
document.getElementById('slidename').value="";
document.getElementById('widthforimage').value=0;
      document.getElementById('heightforimage').value=0;
      document.getElementById('fileimage').value="";
}
   function headingandvideo(){
            var nameofslide= document.getElementById('slidename').value;
            var div=document.createElement("div")
            div.id=nameofslide+"container";
            div.className = "slidecontainers collapse show";
            div.style.position="relative";
             div.setAttribute('name', 'slidesforuse');
           
            document.getElementById('slides').appendChild(div);
            var slide = document.createElement('div');
            slide.style.width="700px";
            slide.style.height="500px";
            slide.className = "slideer";
            slide.style.border = "9px solid black";
            slide.style.position="relative";
            slide.style.backgroundColor = "white";
            slide.id=nameofslide;
               
            document.getElementById(nameofslide+"container").appendChild(slide);
            var heading=document.createElement('h1');
            heading.contentEditable="true";
            heading.innerHTML="This is a heading";
            document.getElementById(nameofslide).appendChild(heading);
    var video = document.createElement('video');
    video.id= nameofslide + "video";
     video.controls="true";
        video.style.width=document.getElementById('widthforvideo').value+"px";
 video.style.height=document.getElementById('heightforvideo').value+"px";
       document.getElementById(nameofslide).appendChild(video);
   

   var videostouse = document.getElementById('filevideo');
  // Make sure we have files to use
  var source = document.createElement('source');
 source.src = URL.createObjectURL(videostouse.files[0]);

 
source.id = nameofslide + "videosource";

  // Allow us to control the audio

  // Set the src and start loading the audio from the file
 

document.getElementById(nameofslide+"video").appendChild(source);

  var remove = document.createElement('button');
             remove.className="btn btn-warning";
             remove.innerHTML = "Remove this Slide";
             remove.setAttribute("onclick", "document.getElementById('"+nameofslide+"container').remove();document.getElementById('"+nameofslide+"control').remove()");
             div.appendChild(remove);
             
            var slidename2="#" + nameofslide+"container";
            var buttontext = "<Br><bR><div style='position: absolute;bottom: 0;'><button class='btn btn-danger'  data-toggle='collapse'" + "data-target='"+slidename2+"'>Stop Editing This Slide</button><span style='color:white;'><b>Coming Soon:</b>You can drag around lists.</span>"+"</div><br>";
            
            $(slidename2).append(buttontext);
            var usableid = nameofslide+"color";
            /*var backgroundcolor = "<input style='position: absolute;bottom: 0;' type='color' id='"+usableid+"' value='#FFFFFF' onchange='"+nameofslide+".style.backgroundColor=this.value;'>"
                 $(slidename2).append(backgroundcolor);*/
        var controltext = "<button  class='btn btn-primary'  id='"+nameofslide+"control' "+"data-toggle='collapse'" + "data-target='"+slidename2+"'>"+nameofslide+"</button>";
   
            $("#lists").append(controltext);
            

$(function() {
    var h1 = document.getElementsByTagName('h1');
    $(h1).draggable();
  });
$(function() {
    var video = document.getElementsByTagName('video');
    $(video).draggable();
  });
document.getElementById('slidename').value="";
document.getElementById('widthforimage').value=0;
      document.getElementById('heightforimage').value=0;
      document.getElementById('fileimage').value="";
}

    
setInterval(function() { var colorheadingvalue = document.getElementById('headingcolor').value;

document.getElementById('headingcolor').setAttribute("value", colorheadingvalue);
    const collection = document.getElementsByTagName("h1");
for (let i = 0; i < collection.length; i++) {
  collection[i].style.color= colorheadingvalue;
}}, 9);
setInterval(function() { var colorheadingvalue = document.getElementById('paragraphcolor').value;
document.getElementById('paragraphcolor').setAttribute("value", colorheadingvalue);
    const collection = document.getElementsByTagName("p");
for (let i = 0; i < collection.length; i++) {
  collection[i].style.color= colorheadingvalue;
}}, 9);
setInterval(function() { var sizeheadingvalue = document.getElementById('headingsize').value+"pt";
    const collection = document.getElementsByTagName("h1");
    document.getElementById('headingsize').setAttribute("value", document.getElementById('headingsize').value);
for (let i = 0; i < collection.length; i++) {
  collection[i].style.fontSize= sizeheadingvalue;
}}, 9);
setInterval(function() { var sizeheadingvalue = document.getElementById('paragraphsize').value+"pt";
    const collection = document.getElementsByTagName("p");
       document.getElementById('paragraphsize').setAttribute("value", document.getElementById('paragraphsize').value);
for (let i = 0; i < collection.length; i++) {
  collection[i].style.fontSize= sizeheadingvalue;
}}, 9);
function makethingsright(){
   var fontheadingvalue =  document.getElementById('headingparagraph').value;
     //selector
       const collection = document.getElementsByTagName("p");
    
for (let i = 0; i < collection.length; i++) {
  collection[i].style.fontFamily = fontheadingvalue;
}
document.getElementById(fontheadingvalue+"p").setAttribute("selected", true);
}
function makethingsright2(){
    var fontheadingvalue = document.getElementById('headingfont').value;
 const abc = document.getElementsByTagName("option");
 for (let i = 0; i < abc.length; i++) {
  abc[i].removeAttribute("selected");

}
document.getElementById(fontheadingvalue).setAttribute("selected", true);
    const collection = document.getElementsByTagName("h1");
 for (let i = 0; i < collection.length; i++) {
  collection[i].style.fontFamily = fontheadingvalue;

}
}
function present(){
    let firstslide = document.getElementsByClassName("slideer")[0].innerHTML;
document.getElementById("present").innerHTML = firstslide ;
document.getElementById('present').style.display="block";
document.getElementById('present').style.backgroundColor= document.getElementsByClassName("slideer")[0].style.backgroundColor;
document.getElementById("present").style.backgroundImage=document.getElementsByClassName("slideer")[0].style.backgroundImage;
document.getElementById('end').style.display="block";
document.getElementById('backgroundmusic').play();
    const paragraphs = document.getElementsByTagName("p");
for (let i = 0; i < paragraphs.length; i++) {
  paragraphs[i].contentEditable= "false";
}
  const headings = document.getElementsByTagName("h1");
for (let i = 0; i < headings.length; i++) {
  headings[i].contentEditable= "false";
}
  const headingschangesize = document.getElementsByTagName("h1");
for (let i = 0; i < headingschangesize.length; i++) {
  headingschangesize[i].style.fontSize= document.getElementById('headingsize').value*1+12+"pt";
}
 var elem = document.getElementById('present');
  requestFullScreen(elem);
document.getElementById("present").innerHTML = firstslide + "<div style='position: absolute;bottom: 0;'><button type='btn' class='btn btn-danger'  onclick='stopslideshow()'>Stop Slideshow</button><button class='btn btn-warning'type='btn' onclick='decreaseslides()'><i class='fa-solid fa-arrow-left'></i></button><input type='number'  id='presentnumber' onchange='slidemanager();' min='1' value='1'><button type='btn' class='btn btn-warning' onclick='increaseslides()'><i class='fa-solid fa-arrow-right'></i></button></div>";
 


}
function slidemanager(){
    var numbertouse = document.getElementById('presentnumber').value - 1;
     var keeptext = document.getElementById('presentnumber').value;
     document.getElementById("present").style.backgroundColor=document.getElementsByClassName("slideer")[numbertouse].style.backgroundColor;
       document.getElementById("present").style.backgroundImage=document.getElementsByClassName("slideer")[numbertouse].style.backgroundImage;
     document.getElementById("present").innerHTML = "<div id='abes'>" + document.getElementsByClassName("slideer")[numbertouse].innerHTML+"<div style='position: absolute;bottom: 0;'><button type='btn' class='btn btn-danger'  onclick='stopslideshow()'>Stop Slideshow</button><button class='btn btn-warning'type='btn' onclick='decreaseslides()'><i class='fa-solid fa-arrow-left'></i></button><input type='number' id='presentnumber' min='1' onchange='slidemanager();' value='"+keeptext+"'><button type='btn' class='btn btn-warning' onclick='increaseslides()'><i class='fa-solid fa-arrow-right'></i></button></div></div>"
 if(document.getElementById('transition').value == "Fade"){
     
 $("#present").fadeOut();
    $("#present").fadeIn();
 } else if(document.getElementById('transition').value == "SlideUp"){
        $('h1').slideUp(1000);
         $('h1').slideDown(1000);
            $('ul').slideUp(1000);
         $('ul').slideDown(1000);
            $('img').slideUp(1000);
         $('img').slideDown(1000);
            $('table').slideUp(1000);
         $('table').slideDown(1000);
            $('video').slideUp(1000);
         $('video').slideDown(1000);
           $('p').slideUp(1000);
         $('p').slideDown(1000);
 }else if(document.getElementById('transition').value == "SlideLeft"){
 $("ul").animate({width:'hide'},1000);
 $("ul").animate({width:'show'},1000);
  $("img").animate({width:'hide'},1000);
 $("img").animate({width:'show'},1000);
  $("table").animate({width:'hide'},1000);
 $("table").animate({width:'show'},1000);
  $("video").animate({width:'hide'},1000);
 $("video").animate({width:'show'},1000);
       $("h1").animate({width:'hide'},1000);
         $("h1").animate({width:'show'},1000);
           $("p").animate({width:'hide'},1000);
         $("p").animate({width:'show'},1000);
        
 }else if(document.getElementById('transition').value == "Pulsate"){
   
  $( "p" ).effect( "pulsate", "slow" );
  $( "h1" ).effect( "pulsate", "slow" );
$( "ul" ).effect( "pulsate", "slow" );
$( "img" ).effect( "pulsate", "slow" );
$( "table" ).effect( "pulsate", "slow" );
$( "video" ).effect( "pulsate", "slow" );
}else if(document.getElementById('transition').value == "highlight"){
   
  $( "p" ).effect( "highlight", "slow" );
  $( "h1" ).effect( "highlight", "slow" );
$( "ul" ).effect( "highlight", "slow" );
$( "img" ).effect( "highlight", "slow" );
$( "table" ).effect( "highlight", "slow" );
$( "video" ).effect( "highlight", "slow" );
}else if(document.getElementById('transition').value == "bounce"){
   
  $( "p" ).effect( "bounce", "slow" );
  $( "h1" ).effect( "bounce", "slow" );
$( "ul" ).effect( "bounce", "slow" );
$( "img" ).effect( "bounce", "slow" );
$( "table" ).effect( "bounce", "slow" );
$( "video" ).effect( "bounce", "slow" );
}else if(document.getElementById('transition').value == "clip"){
    
     $( "p" ).effect( "clip", "slow" );
  $( "h1" ).effect( "clip", "slow" );
$( "ul" ).effect( "clip", "slow" );
$( "img" ).effect( "clip", "slow" );
$( "table" ).effect( "clip", "slow" );
$( "video" ).effect( "clip", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "puff"){
    
     $( "p" ).effect( "puff", "slow" );
  $( "h1" ).effect( "puff", "slow" );
$( "ul" ).effect( "puff", "slow" );
$( "img" ).effect( "puff", "slow" );
$( "table" ).effect( "puff", "slow" );
$( "video" ).effect( "puff", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "fold"){
    
     $( "p" ).effect( "fold", "slow" );
  $( "h1" ).effect( "fold", "slow" );
$( "ul" ).effect( "fold", "slow" );
$( "img" ).effect( "fold", "slow" );
$( "table" ).effect( "fold", "slow" );
$( "video" ).effect( "fold", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "slide"){
    
     $( "p" ).effect( "slide", "slow" );
  $( "h1" ).effect( "slide", "slow" );
$( "ul" ).effect( "slide", "slow" );
$( "img" ).effect( "slide", "slow" );
$( "table" ).effect( "slide", "slow" );
$( "video" ).effect( "slide", "slow" );

}else if(document.getElementById('transition').value == "explode"){
    
    $( "p" ).toggle( "explode","slow" );
        $( "h1" ).toggle( "explode","slow"  );
            $( "ul" ).toggle( "explode","slow"  );
                $( "img" ).toggle( "explode","slow"  );
                    $( "table" ).toggle( "explode","slow"  );
                        $( "video" ).toggle( "explode","slow"  );
setTimeout(stopexplode, 1000);
}

 
  
}
function increaseslides(){
   var newnumber = document.getElementById('presentnumber').value *1 +1;
   document.getElementById('presentnumber').value = newnumber;
    var numbertouse = document.getElementById('presentnumber').value - 1;
     var keeptext = document.getElementById('presentnumber').value;
     document.getElementById("present").style.backgroundColor=document.getElementsByClassName("slideer")[numbertouse].style.backgroundColor;
       document.getElementById("present").style.backgroundImage=document.getElementsByClassName("slideer")[numbertouse].style.backgroundImage;
     document.getElementById("present").innerHTML = "<div id='abes'>" + document.getElementsByClassName("slideer")[numbertouse].innerHTML+"<div style='position: absolute;bottom: 0;'><button type='btn' class='btn btn-danger'  onclick='stopslideshow()'>Stop Slideshow</button><button class='btn btn-warning'type='btn' onclick='decreaseslides()'><i class='fa-solid fa-arrow-left'></i></button><input type='number' id='presentnumber' min='1' onchange='slidemanager();' value='"+keeptext+"'><button type='btn' class='btn btn-warning' onclick='increaseslides()'><i class='fa-solid fa-arrow-right'></i></button></div></div>"
 if(document.getElementById('transition').value == "Fade"){
     
 $("#present").fadeOut();
    $("#present").fadeIn();
 } else if(document.getElementById('transition').value == "SlideUp"){
        $('h1').slideUp(1000);
         $('h1').slideDown(1000);
            $('ul').slideUp(1000);
         $('ul').slideDown(1000);
            $('img').slideUp(1000);
         $('img').slideDown(1000);
            $('table').slideUp(1000);
         $('table').slideDown(1000);
            $('video').slideUp(1000);
         $('video').slideDown(1000);
           $('p').slideUp(1000);
         $('p').slideDown(1000);
 }else if(document.getElementById('transition').value == "SlideLeft"){
 $("ul").animate({width:'hide'},1000);
 $("ul").animate({width:'show'},1000);
  $("img").animate({width:'hide'},1000);
 $("img").animate({width:'show'},1000);
  $("table").animate({width:'hide'},1000);
 $("table").animate({width:'show'},1000);
  $("video").animate({width:'hide'},1000);
 $("video").animate({width:'show'},1000);
       $("h1").animate({width:'hide'},1000);
         $("h1").animate({width:'show'},1000);
           $("p").animate({width:'hide'},1000);
         $("p").animate({width:'show'},1000);
        
 }else if(document.getElementById('transition').value == "Pulsate"){
   
  $( "p" ).effect( "pulsate", "slow" );
  $( "h1" ).effect( "pulsate", "slow" );
$( "ul" ).effect( "pulsate", "slow" );
$( "img" ).effect( "pulsate", "slow" );
$( "table" ).effect( "pulsate", "slow" );
$( "video" ).effect( "pulsate", "slow" );
}else if(document.getElementById('transition').value == "highlight"){
   
  $( "p" ).effect( "highlight", "slow" );
  $( "h1" ).effect( "highlight", "slow" );
$( "ul" ).effect( "highlight", "slow" );
$( "img" ).effect( "highlight", "slow" );
$( "table" ).effect( "highlight", "slow" );
$( "video" ).effect( "highlight", "slow" );
}else if(document.getElementById('transition').value == "bounce"){
   
  $( "p" ).effect( "bounce", "slow" );
  $( "h1" ).effect( "bounce", "slow" );
$( "ul" ).effect( "bounce", "slow" );
$( "img" ).effect( "bounce", "slow" );
$( "table" ).effect( "bounce", "slow" );
$( "video" ).effect( "bounce", "slow" );
}else if(document.getElementById('transition').value == "clip"){
    
     $( "p" ).effect( "clip", "slow" );
  $( "h1" ).effect( "clip", "slow" );
$( "ul" ).effect( "clip", "slow" );
$( "img" ).effect( "clip", "slow" );
$( "table" ).effect( "clip", "slow" );
$( "video" ).effect( "clip", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "puff"){
    
     $( "p" ).effect( "puff", "slow" );
  $( "h1" ).effect( "puff", "slow" );
$( "ul" ).effect( "puff", "slow" );
$( "img" ).effect( "puff", "slow" );
$( "table" ).effect( "puff", "slow" );
$( "video" ).effect( "puff", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "fold"){
    
     $( "p" ).effect( "fold", "slow" );
  $( "h1" ).effect( "fold", "slow" );
$( "ul" ).effect( "fold", "slow" );
$( "img" ).effect( "fold", "slow" );
$( "table" ).effect( "fold", "slow" );
$( "video" ).effect( "fold", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "slide"){
    
     $( "p" ).effect( "slide", "slow" );
  $( "h1" ).effect( "slide", "slow" );
$( "ul" ).effect( "slide", "slow" );
$( "img" ).effect( "slide", "slow" );
$( "table" ).effect( "slide", "slow" );
$( "video" ).effect( "slide", "slow" );

}else if(document.getElementById('transition').value == "explode"){
    
    $( "p" ).toggle( "explode","slow" );
        $( "h1" ).toggle( "explode","slow"  );
            $( "ul" ).toggle( "explode","slow"  );
                $( "img" ).toggle( "explode","slow"  );
                    $( "table" ).toggle( "explode","slow"  );
                        $( "video" ).toggle( "explode","slow"  );
setTimeout(stopexplode, 1000);
}

 
  
}
function decreaseslides(){
    
   var newnumber = document.getElementById('presentnumber').value *1 -1;
   document.getElementById('presentnumber').value = newnumber;
    var numbertouse = document.getElementById('presentnumber').value - 1;
     var keeptext = document.getElementById('presentnumber').value;
     document.getElementById("present").style.backgroundColor=document.getElementsByClassName("slideer")[numbertouse].style.backgroundColor;
       document.getElementById("present").style.backgroundImage=document.getElementsByClassName("slideer")[numbertouse].style.backgroundImage;
     document.getElementById("present").innerHTML = "<div id='abes'>" + document.getElementsByClassName("slideer")[numbertouse].innerHTML+"<div style='position: absolute;bottom: 0;'><button type='btn' class='btn btn-danger'  onclick='stopslideshow()'>Stop Slideshow</button><button class='btn btn-warning'type='btn' onclick='decreaseslides()'><i class='fa-solid fa-arrow-left'></i></button><input type='number' id='presentnumber' min='1' onchange='slidemanager();' value='"+keeptext+"'><button type='btn' class='btn btn-warning' onclick='increaseslides()'><i class='fa-solid fa-arrow-right'></i></button></div></div>"
 if(document.getElementById('transition').value == "Fade"){
     
 $("#present").fadeOut();
    $("#present").fadeIn();
 } else if(document.getElementById('transition').value == "SlideUp"){
        $('h1').slideUp(1000);
         $('h1').slideDown(1000);
            $('ul').slideUp(1000);
         $('ul').slideDown(1000);
            $('img').slideUp(1000);
         $('img').slideDown(1000);
            $('table').slideUp(1000);
         $('table').slideDown(1000);
            $('video').slideUp(1000);
         $('video').slideDown(1000);
           $('p').slideUp(1000);
         $('p').slideDown(1000);
 }else if(document.getElementById('transition').value == "SlideLeft"){
 $("ul").animate({width:'hide'},1000);
 $("ul").animate({width:'show'},1000);
  $("img").animate({width:'hide'},1000);
 $("img").animate({width:'show'},1000);
  $("table").animate({width:'hide'},1000);
 $("table").animate({width:'show'},1000);
  $("video").animate({width:'hide'},1000);
 $("video").animate({width:'show'},1000);
       $("h1").animate({width:'hide'},1000);
         $("h1").animate({width:'show'},1000);
           $("p").animate({width:'hide'},1000);
         $("p").animate({width:'show'},1000);
        
 }else if(document.getElementById('transition').value == "Pulsate"){
   
  $( "p" ).effect( "pulsate", "slow" );
  $( "h1" ).effect( "pulsate", "slow" );
$( "ul" ).effect( "pulsate", "slow" );
$( "img" ).effect( "pulsate", "slow" );
$( "table" ).effect( "pulsate", "slow" );
$( "video" ).effect( "pulsate", "slow" );
}else if(document.getElementById('transition').value == "highlight"){
   
  $( "p" ).effect( "highlight", "slow" );
  $( "h1" ).effect( "highlight", "slow" );
$( "ul" ).effect( "highlight", "slow" );
$( "img" ).effect( "highlight", "slow" );
$( "table" ).effect( "highlight", "slow" );
$( "video" ).effect( "highlight", "slow" );
}else if(document.getElementById('transition').value == "bounce"){
   
  $( "p" ).effect( "bounce", "slow" );
  $( "h1" ).effect( "bounce", "slow" );
$( "ul" ).effect( "bounce", "slow" );
$( "img" ).effect( "bounce", "slow" );
$( "table" ).effect( "bounce", "slow" );
$( "video" ).effect( "bounce", "slow" );
}else if(document.getElementById('transition').value == "clip"){
    
     $( "p" ).effect( "clip", "slow" );
  $( "h1" ).effect( "clip", "slow" );
$( "ul" ).effect( "clip", "slow" );
$( "img" ).effect( "clip", "slow" );
$( "table" ).effect( "clip", "slow" );
$( "video" ).effect( "clip", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "puff"){
    
     $( "p" ).effect( "puff", "slow" );
  $( "h1" ).effect( "puff", "slow" );
$( "ul" ).effect( "puff", "slow" );
$( "img" ).effect( "puff", "slow" );
$( "table" ).effect( "puff", "slow" );
$( "video" ).effect( "puff", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "fold"){
    
     $( "p" ).effect( "fold", "slow" );
  $( "h1" ).effect( "fold", "slow" );
$( "ul" ).effect( "fold", "slow" );
$( "img" ).effect( "fold", "slow" );
$( "table" ).effect( "fold", "slow" );
$( "video" ).effect( "fold", "slow" );
setTimeout(StopTransition, 2000);
}else if(document.getElementById('transition').value == "slide"){
    
     $( "p" ).effect( "slide", "slow" );
  $( "h1" ).effect( "slide", "slow" );
$( "ul" ).effect( "slide", "slow" );
$( "img" ).effect( "slide", "slow" );
$( "table" ).effect( "slide", "slow" );
$( "video" ).effect( "slide", "slow" );

}else if(document.getElementById('transition').value == "explode"){
    
    $( "p" ).toggle( "explode","slow" );
        $( "h1" ).toggle( "explode","slow"  );
            $( "ul" ).toggle( "explode","slow"  );
                $( "img" ).toggle( "explode","slow"  );
                    $( "table" ).toggle( "explode","slow"  );
                        $( "video" ).toggle( "explode","slow"  );
setTimeout(stopexplode, 1000);
}

 
  
}
function StopTransition(){
     $( "p" ).hide().fadeIn();
     $( "h1" ).hide().fadeIn();
       $( "ul" ).removeAttr( "style" ).hide().fadeIn();
         $( "img" ).hide().fadeIn();
           $( "table" ).removeAttr( "style" ).hide().fadeIn();
             $( "video" ).removeAttr( "style" ).hide().fadeIn();
}
function stopexplode(){
     $( "p" ).toggle( "explode","slow" );
        $( "h1" ).toggle( "explode","slow"  );
            $( "ul" ).toggle( "explode","slow"  );
                $( "img" ).toggle( "explode","slow"  );
                    $( "table" ).toggle( "explode","slow"  );
                        $( "video" ).toggle( "explode","slow"  );
}
function stopslideshow(){
    document.getElementById("end").style.display = "none";
alert("Thanks for using Aswin's MasterSlide. We will now go back to editing mode.");
document.getElementById('present').style.display="none";
    const paragraphs = document.getElementsByTagName("p");
for (let i = 0; i < paragraphs.length; i++) {
  paragraphs[i].contentEditable= "true";
}
  const headings = document.getElementsByTagName("h1");
for (let i = 0; i < headings.length; i++) {
  headings[i].contentEditable= "true";
}
}
function starter(){
    document.getElementById("present").style.display="none";
      document.getElementById("loader").style.display = "none";
      var getinfo = localStorage.getItem("savedslides");
   console.log(getinfo);
   console.log(localStorage.getItem("savednavigators"));
   console.log(localStorage.getItem("nameofslide"));

 document.getElementById('slides').innerHTML= localStorage.getItem("savedslides");
 document.getElementById('lists').innerHTML = localStorage.getItem("savednavigators");
 document.getElementById('masterslidename').value = localStorage.getItem("nameofslide");
/*localStorage.setItem("savedslides", slidestosavecode);
localStorage.setItem("savednavigators", liststosave);
localStorage.setItem("nameofslide", slidename);
localStorage.setItem("headingcolor",document.getElementById('headingcolor').value);
localStorage.setItem("headingfont",document.getElementById('headingfont').value);
localStorage.setItem("headingsize",document.getElementById('headingsize').value);
localStorage.setItem("paragraphsize",document.getElementById('headingparagraph').value);
localStorage.setItem("paragraphcolor",document.getElementById('paragraphcolor').value);
localStorage.setItem("paragraphsize",document.getElementById('paragraphsize').value);
*/

 document.getElementById('headingcolor').value=localStorage.getItem("headingcolor");
  document.getElementById('headingfont').value=localStorage.getItem("headingfont");
  document.getElementById('headingsize').value=localStorage.getItem("headingsize");
  document.getElementById('headingparagraph').value=localStorage.getItem("paragraphfont");
    document.getElementById('paragraphcolor').value=localStorage.getItem("paragraphcolor");
       document.getElementById('paragraphsize').value=localStorage.getItem("paragraphsize");
       if(document.getElementById('headingfont').value === ""){
           document.getElementById('headingfont').value="sans-serif";
       }
       if(document.getElementById('headingparagraph').value === ""){
           document.getElementById('headingparagraph').value="sans-serif";
       }
          if(document.getElementById('headingsize').value === ""){
           document.getElementById('headingsize').value="24";
       }
                if(document.getElementById('paragraphsize').value === ""){
           document.getElementById('paragraphsize').value="12";
       }
}
//this code is required in order for full screen
function requestFullScreen(element) {
    // Supports most browsers and their versions.
    var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullscreen;

    if (requestMethod) { // Native full screen.
        requestMethod.call(element);
    } else if (typeof window.ActiveXObject !== "undefined") { // Older IE.
        var wscript = new ActiveXObject("WScript.Shell");
        if (wscript !== null) {
            wscript.SendKeys("{F11}");
        }
    }
}
function musicapplier(){
    var musicer = document.getElementById('musicinput');
  // Make sure we have files to use
  if (!musicer.files.length) return;

  // Create a blob that we can use as an src for our audio element
  const urlObj = URL.createObjectURL(musicer.files[0]);

  // Create an audio element
  const audio = document.getElementById('backgroundmusic');

  // Clean up the URL Object after we are done with it
  audio.addEventListener("load", () => {
    URL.revokeObjectURL(urlObj);
  });

  // Allow us to control the audio
 
  // Set the src and start loading the audio from the file
  audio.src = urlObj;
}
function landscapeimage(){
    document.getElementById('widthforimage').value=300;
      document.getElementById('heightforimage').value=200;
}
function portraitimage(){
    document.getElementById('widthforimage').value=200;
      document.getElementById('heightforimage').value=300;
}
function portraitvideo(){
    document.getElementById('widthforvideo').value=200;
      document.getElementById('heightforvideo').value=300;
}
function landscapevideo(){
    document.getElementById('widthforvideo').value=300;
      document.getElementById('heightforvideo').value=200;
}
function changebackground(){
    var slidename = document.getElementById('selectslideforbackground').value;
    var color = document.getElementById('backgroundselecter').value;
    document.getElementById(slidename).style.backgroundColor= color;
    document.getElementById('selectslideforbackground').value="";
    document.getElementById('backgroundselecter').value="#FFFFFF";
}
function lineargradient(){
     var slidename = document.getElementById('slidenamelinear').value;
     var color1 = document.getElementById('color1gradient').value;
var color2 = document.getElementById('color2gradient').value;
document.getElementById(slidename).style.backgroundImage = "linear-gradient("+color1+", "+color2+")";
}
function radialgradient(){
     var slidename = document.getElementById('slidenameradial').value;
     var color1 = document.getElementById('color1radial').value;
var color2 = document.getElementById('color2radial').value;
var color3 = document.getElementById('color3radial').value;
document.getElementById(slidename).style.background = "radial-gradient("+color1+", "+color2+","+color3+")";
}
function conicgradient(){
     var slidename = document.getElementById('slidenameconic').value;
     var color1 = document.getElementById('color1conic').value;
var color2 = document.getElementById('color2conic').value;
var color3 = document.getElementById('color3conic').value;
document.getElementById(slidename).style.backgroundImage = "conic-gradient("+color1+", "+color2+","+color3+")";
}
function additionalparagraph(){
    var slidename = document.getElementById('slidenameforelements').value;
    var paragraph = document.createElement('p');
    paragraph.contentEditable="true";
    paragraph.innerHTML="This is a Paragraph";
    document.getElementById(slidename).appendChild(paragraph);
   
    $(function() {
    var p = document.getElementsByTagName('p');
    $(p).draggable();
  });
    
}
function additionalheading(){
    var slidename = document.getElementById('slidenameforelements').value;
    var heading = document.createElement('h1');
    heading.contentEditable="true";
    heading.innerHTML="This is a heading";
    document.getElementById(slidename).appendChild(heading);
   
    $(function() {
    var h1 = document.getElementsByTagName('h1');
    $(h1).draggable();
  });
    
}
function additionallist(){
    var slidename = document.getElementById('slidenameforelements').value;
    var list = document.createElement('ul');
    list.contentEditable="true";
    list.innerHTML="<li>This is a list</li>";
    document.getElementById(slidename).appendChild(list);
   
  
    
}
function additionalquotation(){
    var slidename = document.getElementById('slidenameforelements').value;
    var quotation = document.createElement('q');
    quotation.contentEditable="true";
    quotation.innerHTML="This is a quotation";
    quotation.style.fontStyle="italic";
    document.getElementById(slidename).appendChild(quotation);
   
  
    
}
function headingandtable(){
        var nameofslide= document.getElementById('slidename').value;
            var div=document.createElement("div")
            div.id=nameofslide+"container";
            div.className = "slidecontainers collapse show";
            div.style.position="relative";
            div.setAttribute('name', 'slidesforuse');
            document.getElementById('slides').appendChild(div);
            var slide = document.createElement('div');
            slide.style.width="700px";
            slide.style.height="500px";
            slide.className = "slideer";
            slide.style.border = "9px solid black";
            slide.style.position="relative";
            slide.style.backgroundColor = "white";
            slide.id=nameofslide;
     
            document.getElementById(nameofslide+"container").appendChild(slide);
            var heading=document.createElement('h1');
            heading.contentEditable="true";
            heading.innerHTML="This is a heading";
            document.getElementById(nameofslide).appendChild(heading);
   var table = document.createElement('TABLE');
   var tablediv = document.createElement('div');
   tablediv.id=nameofslide+"tablediv";
   document.getElementById(nameofslide).appendChild(tablediv);

   table.className= "table table-striped";
             table.setAttribute("contenteditable", "true");
   var numberofrows= document.getElementById('tablerows').value;
   var numberofcolumns = document.getElementById('tablecolumns').value;
    for (var i = 1; i <= numberofrows; i++) {
      // Create the rows
      var trL = document.createElement('TR');
      trL.setAttribute('class', 'lettersTR');
      
        var td = document.createElement('TD');
       
      td.setAttribute("contenteditable", "true");
        trL.appendChild(td);
        for (var j = 0; j < numberofcolumns; j++) {
          td = document.createElement("td");

          td.innerHTML = "This is a table cell";
          trL.appendChild(td);
        }
      // Append the rows to the body
      table.appendChild(trL);
       var remove = document.createElement('button');
             remove.className="btn btn-warning";
             remove.innerHTML = "Remove this Slide";
             remove.setAttribute("onclick", "document.getElementById('"+nameofslide+"container').remove();document.getElementById('"+nameofslide+"control').remove()");
             div.appendChild(remove);
             
        $(function() {
    var h1 = document.getElementsByTagName('h1');
    $(h1).draggable();
  });
    $(function() {
    var tables = document.getElementById(nameofslide+"tablediv");
    $(tables).resizable();
  });
    }
     document.getElementById(nameofslide+"tablediv").appendChild(table);

            var slidename2="#" + nameofslide+"container";
            var buttontext = "<br><br><BR><bR><div style='position: absolute;bottom: 0;'><button class='btn btn-danger'  data-toggle='collapse'" + "data-target='"+slidename2+"'>Stop Editing This Slide</button><span style='color:white;'><b>Coming Soon:</b>You can drag around lists.</span>"+"</div><br>";
            
            $(slidename2).append(buttontext);
            var usableid = nameofslide+"color";
            /*var backgroundcolor = "<input style='position: absolute;bottom: 0;' type='color' id='"+usableid+"' value='#FFFFFF' onchange='"+nameofslide+".style.backgroundColor=this.value;'>"
                 $(slidename2).append(backgroundcolor);*/
              var controltext = "<button  class='btn btn-primary'  id='"+nameofslide+"control' "+"data-toggle='collapse'" + "data-target='"+slidename2+"'>"+nameofslide+"</button>";

   
            $("#lists").append(controltext);
  
}
function additionaltable(){
            var slidename= document.getElementById('slidenameforelements').value;
       
   var table = document.createElement('TABLE');


   table.className= "table table-striped";
             table.setAttribute("contenteditable", "true");
   var numberofrows= document.getElementById('additionaltablerow').value;
   var numberofcolumns = document.getElementById('additionaltablecolumn').value;
    for (var i = 1; i <= numberofrows; i++) {
      // Create the rows
      var trL = document.createElement('TR');
      trL.setAttribute('class', 'lettersTR');
      
        var td = document.createElement('TD');
       
      td.setAttribute("contenteditable", "true");
       
        for (var j = 0; j < numberofcolumns; j++) {
          td = document.createElement("td");

          td.innerHTML = "This is a table cell";
          trL.appendChild(td);
        }
      // Append the rows to the body
  table.appendChild(trL);
    }
     $(function() {
    var tables = document.getElementById(nameofslide+"tablediv");
    $(tables).resizable();
  });
     document.getElementById(slidename).appendChild(table);

}
function additionalportraitmedia(){
    document.getElementById('widthformediaadd').value=200;
      document.getElementById('heightformediaadd').value=300;
}
function additionallandscapemedia(){
    document.getElementById('widthformediaadd').value=300;
      document.getElementById('heightformediaadd').value=200;
}
function additionalimage(){
           var slidename= document.getElementById('slidenameforelements').value;
     var imagestouse = document.getElementById('additionalmedia');
  // Make sure we have files to use
  var image = document.createElement('img');
 image.src = window.URL.createObjectURL(imagestouse.files[0])
 


  // Allow us to control the audio
 image.style.width=document.getElementById('widthformediaadd').value+"px";
 image.style.height=document.getElementById('heightformediaadd').value+"px";
  // Set the src and start loading the audio from the file
       $(function() {
    var img = document.getElementsByTagName('img');
    $(img).draggable();
  });
document.getElementById(slidename).appendChild(image);
}
function additionalvideo(){
     var video = document.createElement('video');
   var slidename= document.getElementById('slidenameforelements').value;
     video.controls="true";
        video.style.width=document.getElementById('widthformediaadd').value+"px";
 video.style.height=document.getElementById('heightformediaadd').value+"px";

   

   var videostouse = document.getElementById('additionalmedia');
  // Make sure we have files to use
  var source = document.createElement('source');
 source.src = window.URL.createObjectURL(videostouse.files[0])
 

video.appendChild(source);
       document.getElementById(slidename).appendChild(video);
       
       $(function() {
    var video = document.getElementsByTagName('video');
    $(video).draggable();
  });
}
function exportthis(){
    var HTML_Width = $(".slideer").width();
    var HTML_Height = $(".slideer").height();
    var top_left_margin = 5;
    var PDF_Width = HTML_Width + (top_left_margin * 2);
    var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
    var canvas_image_width = HTML_Width;
    var canvas_image_height = HTML_Height;

    var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;
    var slidename = document.getElementById('masterslidename').value;
          var lengths = document.getElementsByClassName('slideer').length;
          var cool= document.getElementsByName('slidesforuse');
          for(var b = 0; b < cool.length; b++){
              cool[b].style.display="block";
          }
            var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
       for (var j = 0; j < lengths; j++) {
     
    html2canvas($(".slideer")[j],{logging: true,useCORS: true}).then(function (canvas) {
      
        var imgData = canvas.toDataURL("image/jpeg", 1.0);
      
        pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);
        for (var i = 1; i <= totalPDFPages; i++) { 
            pdf.addPage(PDF_Width, PDF_Height);
            pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height*i)+(top_left_margin*4),canvas_image_width,canvas_image_height);
        }

        pdf.save(slidename+".pdf");
        
        
    });
       }
       alert('Allow to download multiple slides. Total number of slides:'+lengths)
        setTimeout(revert,7000);
}
function revert(){
        var cool= document.getElementsByName('slidesforuse');
    for(var d = 0; d < cool.length; d++){
              cool[d].style.display= null;
          }
}
      function myFunction() {
  myVar = setTimeout(starter, 2000);
    var getinfo = localStorage.getItem("Name");
  document.getElementById("signin").innerHTML ="Hello "+ getinfo +"!";


} 
function save(){
    if(document.getElementById('signin').innerHTML== "Hello null!"){
    document.getElementById('fornonmembers').className = "modal fade show";
    document.getElementById('fornonmembers').style.display="block";
    } else {
        var slidestosavecode = document.getElementById('slides').innerHTML;
    var liststosave = document.getElementById('lists').innerHTML;
    var slidename = document.getElementById('masterslidename').value;
     localStorage.setItem("savedslides", slidestosavecode);
localStorage.setItem("savednavigators", liststosave);
localStorage.setItem("nameofslide", slidename);
localStorage.setItem("headingcolor",document.getElementById('headingcolor').value);
localStorage.setItem("headingfont",document.getElementById('headingfont').value);
localStorage.setItem("headingsize",document.getElementById('headingsize').value);
localStorage.setItem("paragraphfont",document.getElementById('headingparagraph').value);
localStorage.setItem("paragraphcolor",document.getElementById('paragraphcolor').value);
localStorage.setItem("paragraphsize",document.getElementById('paragraphsize').value);
document.getElementById('savemodal').className ="modal fade show";
document.getElementById('savemodal').style.display="block";
      document.body.removeAttribute("onbeforeunload"); 
    }
    

  
}
function discard(){
      document.body.removeAttribute("onbeforeunload");
  localStorage.removeItem("savedslides");
   localStorage.removeItem("savednavigators");
   localStorage.removeItem("nameofslide");
   localStorage.removeItem("headingcolor");
  localStorage.removeItem("headingfont");
  localStorage.removeItem("headingsize");
 localStorage.removeItem("paragraphfont");
    localStorage.removeItem("paragraphcolor");
   localStorage.removeItem("paragraphsize");
}
function download(filename, text) {
  var pom = document.createElement('a');
  pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + 

encodeURIComponent(text));
  pom.setAttribute('download', filename);

  pom.style.display = 'none';
  document.body.appendChild(pom);

  pom.click();

  document.body.removeChild(pom);
}
    function importthefiles(){
    document.getElementById('editor').innerHTML = "";
  var fileToLoad = document.getElementById("fileToLoad").files[0];

  var fileReader = new FileReader();
  fileReader.onload = function(fileLoadedEvent){
      var textFromFileLoaded = fileLoadedEvent.target.result;
      document.getElementById("editor").innerHTML = textFromFileLoaded;
  };

  fileReader.readAsText(fileToLoad, "UTF-8");

}

    </script>
   <center> <img src="https://i.ibb.co/6J2xc5Y/Masterslides-Icon.jpg" width="100px" height="100px"><h2>Aswin's MasterSlide</h2></center>
   <div class="spinner-border text-primary" id="loader"></div>
   <SPAN id="signin" style="display: block;font-size:25pt;text-align:right;color:white;"></SPAN>
   <form class="form-inline">
   <INPUT TYPE="text" class="form-control" id="masterslidename"   placeholder="SlideShow Name"><button onclick="discard()" type="btn" class="btn btn-danger"><i class="fa-solid fa-trash"></i>Discard</button>
       </form>
      <button onclick="present()" class="btn btn-primary"><span class="material-icons-outlined"><i class="material-icons">airplay</i></span>Present</button>
      <button data-toggle="collapse" class="btn btn-primary" data-target="#formatingoption">Show/Hide Formating Options</button>
         <button data-toggle="collapse" class="btn btn-primary" data-target="#music">Background Music</button>
         <button data-toggle="collapse" class="btn btn-primary" data-target="#additionalelements">Additional Elements</button>
         <button type="btn" data-toggle="collapse" class="btn btn-primary" data-target="#transitions">Transitions</button>
         <button class="btn btn-primary" onclick="exportthis()">Export</button>
         <button class="btn btn-success" onclick="save()">Save</button>
         <button class="btn btn-success" onclick="download(document.getElementById('masterslidename').value + '.ams' ,document.getElementById('editor').innerHTML)">Save as file</button>
        <button type="btn" data-toggle="collapse" class="btn btn-primary" data-target="#importfiles">Import</button>
        <a href="https://sites.google.com/view/masterslidedocs/docs-home?authuser=0" class="btn btn-primary">Docs/Additional Templates</a>
      <div id="importfiles" class="collapse">
          <input type="file" id="fileToLoad" accept=".ams">
    <button onclick="importthefiles()">Load Selected File</button>
      </div>
      <div id="additionalelements" class="collapse">
          <form class="was-validated">  <div class="form-group">    <label style="color:white;" for="slidenameforelements">Slide Name:</label><input type="text" class="form-control" id="slidenameforelements" placeholder="slide name"  required>  <div class="valid-feedback">Valid. Make sure it is the exact name of the slide</div>
    <div class="invalid-feedback">Please fill out this field.</div></div></form>
          <button class="btn btn-secondary" onclick="additionalparagraph()">Paragraph</button>
          <button class="btn btn-secondary" onclick="additionalheading()">Heading</button>
            <button class="btn btn-secondary" onclick="additionallist()">List</button>
            <button class="btn btn-secondary" onclick="additionalquotation()">Quotation</button>
            <fieldset style="color:white;">
                <legend>For Table:</legend>
                <label for="additionaltablerow">Number of Rows:</label><input type="number" class="form-control" id="additionaltablerow">
                   <label for="additionaltablecolumn">Number of Columns:</label><input type="number" class="form-control" id="additionaltablecolumn">
                   <button type="btn" class="btn btn-secondary" onclick="additionaltable()">Add Table</button>
            </fieldset>
            <fieldset style="color:white;">
                <legend >For images and videos:</legend>
                <input type="file" id="additionalmedia" accept="video/*,image/*">
                   <button type="btn" class="btn btn-light" onclick="additionallandscapemedia()">Landscape</button>
     <button type="btn" class="btn btn-light" onclick="additionalportraitmedia()">Portrait</button>
     <h4>Adjust Width and height(in px):</h4>
     <span>Width:</span><input type="number" placeholder="Width" id="widthformediaadd"><br><span>Height:</span><input type="number" placeholder="height" id="heightformediaadd"><Br>
     <button type="btn" class="btn btn-secondary" onclick="additionalimage()">Image</button>
     <button type="btn" class="btn btn-secondary" onclick="additionalvideo()">Video</button>
            </fieldset>
            
      </div>
      <div id="editor">
        <div id="transitions" class="collapse">
         <form>
  <select name="transition"  id="transition" class="custom-select">
    <option value="" selected>Select Transition</option>
    <option value="Fade">Fade</option>
    <option value="SlideUp">Slide Up/Downs</option>
    <option value="SlideLeft">Slide Right/Left</option>
     <option value="Pulsate">Pulsate</option>
     <option value="highlight">Highlight</option>
     <option value="bounce">Bounce</option>
     <option value="clip">Clip</option>
          <option value="puff">Puff</option>
          <option value="fold">Fold</option>
          <option value="slide">Slide In</option>
          <option value="explode">Explode</option>
  </select>
</form>
     </div>
      <div id="formatingoption" class="collapse">
          
      <form>
       <fieldset style='color:white;'>
    
       <legend>For Heading:</legend>
  <select name='fontheading' placeholder="Font for Heading" id='headingfont' onchange="makethingsright2()" class='custom-select'>
    <option id='sans-serif' value='sans-serif' selected>Font for Heading</option>
    <option id='arial' value='arial'>Arial</option>
    <option id="Times New Roman" value='Times New Roman'>Times New Roman</option>
    <option id='cursive' value='cursive'>Comic Sans MS</option>
    <option id="'Pacifico'" value="'Pacifico'">Pacifico</option>
    <option id="'Sofia'" value="'Sofia'">Sofia</option>
  </select>
   <label for='favcolor'>Select heading color:</label>
  <input type='color' id='headingcolor' name='headingcolor' ><br><br>
<input type='text' placeholder='font size - in pt' value='24' class='form-control' id='headingsize'>
    </fieldset>
    </form>
  <form>
    <fieldset style='color:white;'>
      <legend>For Paragraph:</legend>
  <select name='fontparagraph' id='headingparagraph'  onchange="makethingsright()" class='custom-select'>
    <option value='sans-serif'  id='sans-serifp' class="selectors">Font for Paragraph</option>
    <option value='arial' id='arialp' class="selectors">Arial</option>
    <option value='Times New Roman' id='Times New Romanp' class="selectors">Times New Roman</option>
    <option value='cursive' id='cursivep' class="selectors">Comic Sans MS</option>
    <option value="'Pacifico'"  id="'Pacifico'p" class="selectors">Pacifico</option>
    <option value="'Sofia'" id="'Sofia'p"  class="selectors">Sofia</option>
  </select>
     <label for='favcolor'>Select paragraph color:</label>
  <input type='color' id='paragraphcolor' name='paragraphcolor' value='#0000FF'><br><br>
  <input type='text' placeholder='font size - in pt' value='12' class='form-control' id='paragraphsize'>
  </fieldset>
</form>
<button type='btn' class='btn btn-warning' data-toggle='modal' data-target='#changebackground'><i class='material-icons'>format_color_fill</i>Change Background</button> <button type='btn'   data-toggle='modal' data-target='#gradients' class='btn btn-warning'><i class='material-icons'>format_color_fill</i>Gradients</button>
</div>
  <div id="music" class="collapse">
     <input id="musicinput" type="file" onchange="musicapplier()" hidden multiple>
    <label for="musicinput" accept=".mp3" class="btn btn-success">Choose Background Music for SlideShow</label><br><br>
      <audio id="backgroundmusic" ></audio>
  </div>
    <button class="form-control btn-primary"  data-toggle="modal" data-target="#newslide">Add Slide</button>
<div id="slides">

</div>
<div class="slideer" id="end" style="display:none;background-color:white;"><h2 style="font-size:24pt;font-family:'Pacifico';">Presentation is over</h2><span style="font-size:12pt;font-family:Times New Roman;">Please press the Stop Slideshow button to stop the presentation.</span><h4>(C) Aswin's MasterSlide 2022</h4></div>
<div id="lists"></div>
</div>
<div id="present" style="width:500px;height:350px;border:9px solid black;background-color:white;position:relative;"></div>
<div class="modal fade" id="newslide">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Select Template for New Slide</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
          <input type="text" class="form-control" id="slidename" placeholder="Slide name.Don't include spaces-don't reuse any slide names.">
            <div class="alert alert-warning alert-dismissible">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <strong>Warning!</strong> The slide name is required or else it will cause problems and you might need to refresh the page.
  </div>
        <button type="btn" class="btn btn-primary" onclick="newslide()">Heading and Paragraph</button>
        <button type="btn" class="btn btn-primary" onclick="headingandlist()">Heading and List</button>
        <button class="btn btn-primary"  data-toggle="modal" data-target="#imgandheading">Heading and Image</button>
            <button class="btn btn-primary"  data-toggle="modal" data-target="#videoheading">Heading and Video</button>
                 <button class="btn btn-primary"  data-toggle="modal" data-target="#tableheading">Table and heading</button>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
  
<div class="modal fade" id="imgandheading">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Select Image File</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
    <input type="file" id="fileimage" accept="image/*"><br>
    <h4>Select Orientation:</h4>
   <button type="btn" class="btn btn-light" onclick="landscapeimage()">Landscape</button>
     <button type="btn" class="btn btn-light" onclick="portraitimage()">Portrait</button>
     <h4>Adjust Width and height(in px):</h4>
     <span>Width:</span><input type="number" placeholder="Width" id="widthforimage"><br><span>Height:</span><input type="number" placeholder="height" id="heightforimage">
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="headingandimage()" data-dismiss="modal">Continue</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="changebackground">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><i class="material-icons">format_color_fill</i>Select Background Color</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
    <input type="text" class="form-control" id="selectslideforbackground" placeholder="slidename">
    <span>Color Picker:</span>
    <input type="color" class="form-control" value="#FFFFFF" id="backgroundselecter">
    
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="changebackground()" data-dismiss="modal"><i class="material-icons">format_color_fill</i>Change Background</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="gradients">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><i class="material-icons">format_color_fill</i>Select Type of Gradient</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
    <button type="btn"   data-toggle="modal" class="btn btn-light" data-target="#lineargradient">Linear Gradients</button>
    <button type="btn" data-toggle="modal" class="btn btn-light" data-target="#radialgradient">Radial Gradients</button>
    <button type="btn" data-toggle="modal" class="btn btn-light" data-target="#conicgradient">Conic Gradients</button>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
<button type="button" class="btn on> btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="lineargradient">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><i class="material-icons">format_color_fill</i>Select the colors</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
          <input type="text" id="slidenamelinear" class="form-control" placeholder="slide name">
    <input type="color" id="color1gradient" class="form-control">
        <input type="color" id="color2gradient" class="form-control">
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="lineargradient()" data-dismiss="modal"><i class="material-icons">format_color_fill</i>Change Background</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="radialgradient">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><i class="material-icons">format_color_fill</i>Select the colors</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
          <input type="text" id="slidenameradial" class="form-control"  placeholder="slide name">
    <input type="color" id="color1radial" class="form-control">
        <input type="color" id="color2radial" class="form-control">
        <input type="color" id="color3radial" class="form-control">
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="radialgradient()" data-dismiss="modal"><i class="material-icons">format_color_fill</i>Change Background</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="conicgradient">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><i class="material-icons">format_color_fill</i>Select the colors</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
          <input type="text" id="slidenameconic" class="form-control"  placeholder="slide name">
    <input type="color" id="color1conic" class="form-control">
        <input type="color" id="color2conic" class="form-control">
        <input type="color" id="color3conic" class="form-control">
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="conicgradient()" data-dismiss="modal"><i class="material-icons">format_color_fill</i>Change Background</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="fornonmembers">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Option is available for members only</h4>
        <button type="button" class="close"  onclick="document.getElementById('fornonmembers').style.display=null;">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
We're sorry, but this option is available for memebers only. <br>
Have an account?  Visit the <a href="https://goodapps.w3spaces.com">Main Page<i class="material-icons">&#xe879;</i></a> to log in.<br>
Don't have an account? Visit the <a href="https://goodapps.w3spaces.com">Main Page<i class="material-icons">&#xe879;</i></a> to sign up.It is completely free.
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
          <button type="button" class="btn btn-danger" onclick="document.getElementById('fornonmembers').style.display=null;">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="savemodal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Successfully saved.</h4>
        <button type="button" class="close"  onclick="document.getElementById('savemodal').style.display=null;">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
<div class="alert alert-success">
  <strong>Success!</strong> Your slideshow has been successfully saved.
</div>
Your slideshow will apear everytime you refresh the page or close the page unless you press the discard button or restart the browser.
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
          <button type="button" class="btn btn-danger" onclick="document.getElementById('savemodal').style.display=null;">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="videoheading">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Select Video File</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
    <input type="file" id="filevideo" accept="video/*"><br>
    <h4>Select Orientation:</h4>
   <button type="btn" class="btn btn-light" onclick="landscapevideo()">Landscape</button>
     <button type="btn" class="btn btn-light" onclick="portraitvideo()">Portrait</button>
     <h4>Adjust Width and height(in px):</h4>
     <span>Width:</span><input type="number" placeholder="Width" id="widthforvideo"><br><span>Height:</span><input type="number" placeholder="height" id="heightforvideo">
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="headingandvideo()" data-dismiss="modal">Continue</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="tableheading">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Select Number of rows and columns</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
    <label for="tablerows">Number of rows:</label><input type="number" id="tablerows" class="form-control">
    <label for="tablecolumns">Number of Columns:</label><input type="number" id="tablecolumns" class="form-control">
    
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
         <button type="btn" class="btn btn-success" onclick="headingandtable()" data-dismiss="modal">Continue</button> <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
</body>
</html>
