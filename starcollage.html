
<!DOCTYPE html>
<html>
    <head>
        <title>Aswin's Galaxy Director</title
        
    >    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="http://html2canvas.hertzen.com/dist/html2canvas.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js" integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js" integrity="sha512-01CJ9/g7e8cUmY0DFTMcUw/ikS799FHiOA0eyHsUWfOetgbx/t6oV4otQ5zXKQyIrQGTHSmRVPIgrgLcZi/WMA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



    <style>
        img{
            min-width: 15px;
            max-width:400px;
      
  
  cursor: move;
 
}
        h2{
            text-align: center;
        }
        body{
    background-image: url('https://wallpapercave.com/dwp1x/yo46nFM.jpg');
}

        
    </style>
    </head>
    <body>
        <script>
        $(function() {
    // Multiple images preview in browser
    var imagesPreview = function(input, placeToInsertImagePreview) {

        if (input.files) {
            var filesAmount = input.files.length;

            for (i = 0; i < filesAmount; i++) {
                var reader = new FileReader();

                reader.onload = function(event) {
                    $($.parseHTML('<img>')).attr('src', event.target.result).attr("classname", "imgs").attr("draggable", "true").attr('id', "mydiv").appendTo(placeToInsertImagePreview).draggable();
                }

                reader.readAsDataURL(input.files[i]);
            }
        }

    };

    $('#gallery-photo-add').on('change', function() {
        imagesPreview(this, 'div.gallery');
    });
});

function border() {
    var color = document.getElementById('bordertext').value;
  document.getElementById("gallery").style.border = color;
}
function backgroundclr() {
    var black = document.getElementById('colortxt').value;
  document.getElementById('gallery').style.backgroundColor = black ;
}
function previewFile(fileInput) {
  var file = fileInput.files[0];
  var reader = new FileReader();

  reader.addEventListener("load", function() {
    setBackground(reader.result);
  }, false);

  if (file) {
    reader.readAsDataURL(file);
  }
}
function setBackground(imageURL){
    document.getElementById('gallery').style.backgroundImage = "url(" + imageURL + ")";
    document.getElementById('gallery').style.backgroundSize = "100% auto";
    document.getElementById('gallery').style.backgroundRepeat = "no-repeat";
    document.getElementById('gallery').style.backgroundPosition = "center top";
}


function download() {

  domtoimage.toBlob(document.getElementById('downloadsection'))
    .then(function(blob) {
      window.saveAs(blob, 'starcollage.jpg');
    });
}
/*dragElement(textadder);

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {
    // if present, the header is where you move the DIV from:
    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.onmousemove = null;
  }
}

*/

function addtext(){
    var files= document.getElementById('texttouse').value;
    let textadder=document.createElement("p");
    textadder.style.fontFamily = document.getElementById('fontfortext').value;
    textadder.style.fontSize = document.getElementById('sizefortext').value;
    textadder.style.color = document.getElementById('colorfortext').value;
 //Alignment
 if(document.getElementById('left').checked){
     textadder.style.textAlign ="left";
 }
 if(document.getElementById('center').checked){
     textadder.style.textAlign = "center";
 }
 if(document.getElementById('right').checked){
     textadder.style.textAlign= "right";
 }
 //bold text
if(document.getElementById('bold').checked){
    textadder.style.fontWeight = "bold";
}
//underline text
if(document.getElementById('Und').checked){
    textadder.style.textDecoration = "underline";
}
//italic text
if(document.getElementById('italic').checked){
    textadder.style.fontStyle = "Italic";
}
//strike Strikethrough
if(document.getElementById('strike').checked){
    textadder.style.textDecoration = "line-through";
}
//turning text
var degrees =document.getElementById('turning_text').value;
var equation= "rotate("+degrees+"deg)";
textadder.style.transform =equation;

      let t= document.createTextNode(files);
 textadder.appendChild(t);
   document.getElementById('gallery').appendChild(textadder);
     for (i = 0 ; i < textadder.length; i++) {
    textaddder[i].onclick = function() {
      var div = this.parentElement;
     
    }
  }             
$(function() {
    var p = document.getElementsByTagName('p');
    $(p).draggable();
  });  
}
//layout
function center(){

  document.getElementById("gallery").style.textAlign = "CENTER";
}
function left(){

  document.getElementById("gallery").style.textAlign = "left";
}
function right(){

  document.getElementById("gallery").style.textAlign = "right";
}


</script>
      <h6 style="background-color:blue;"> Aswin Â®<div style="text-align:right; margin-top:0px;">Star Collage</div
      ></h6>
      <h2 style="background-color:white;">Beta</h2>
      <center><h5 style="background-color:white;">Pleae give us feedback <a href="https://forms.gle/AabU8fHyKGsb1Mxn9">here</a></h5></center>
<input type="file" multiple id="gallery-photo-add" accept="image/*">
<div id="downloadsection"><div class="gallery" id="gallery" ></div></div>
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
         border<i class="fas fa-border-style"></i>
  </button><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">
    Background Image
  </button>
  <button type="button"  class="btn btn-primary"  data-toggle="modal" data-target="#layout">
    Layout
    </button>
  <div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Border</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          Please choose the pixel, type of border, color
          <br>
          <i>Example:<br>7px solid blue</i>
          <input type="text" id="bordertext">
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          <button type="btn" class="btn-primary"  data-dismiss="modal" onclick="border()">Set border</button>
        </div>
        
      </div>
    </div>
  </div>

<div class="modal" id="layout">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Layout</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <h6><u>Alignment</u></h6>
         <button type="button" onclick="center()"><i class="fa fa-align-center" aria-hidden="true"></i></button>
        <button type="button" onclick="left()"><i class="fa fa-align-left" aria-hidden="true"></i></button>
                <button type="button" onclick="right()"><i class="fa fa-align-right" aria-hidden="true"></i></button>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>

        </div>
        
      </div>
    </div>
  </div>
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal1">
    Background Color
  </button>
  <!-- The Modal -->
  <div class="modal" id="myModal1">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Background Color</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
         Please choose the background color.
  <input type="color" id="colortxt" name="favcolor" value="#ff0000">
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          <button type="btn" class="btn-primary"  data-dismiss="modal" onclick="backgroundclr()">Set Background</button>
        </div>
        
      </div>
    </div>
  </div>
  
<div class="container">
  
  <!-- Button to Open the Modal -->
  <br>
  

  <!-- The Modal -->
  <div class="modal" id="myModal2">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Background Image</h4>
          
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          Upload your background image.
          <input type="file" onchange="previewFile(this);">
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
  
</div>
<div class="container">
  
  <!-- Button to Open the Modal -->
  <br>
  

  <!-- The Modal -->
  <div class="modal" id="textmodal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Add text</h4>
          
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          Add your text<textarea class="form-control" id="texttouse"></textarea>
<input type="checkbox" value="Bold" id="bold" name="bold"><label for="bold">Bold</label>
<input type="checkbox" value="Und" id="Und" name="und"><label for="und">Underline</label>
<input type="checkbox" value="italic" id="italic" name="italic"><label for="italic">Italic</label>
<input type="checkbox" value="strike" id="strike" name="strike"><label for="strike">Strikethrough</label><br>
<select id="fontfortext">
    <option value="Arial">Arial</option>
    <option value="Comic Sans MS">Comic Sans MS</option>
    <option value="Courier New">Courier New</option>
    <option value="Times New Roman">Times New Roman</option>
</select>
<select id="sizefortext">
    <option value="12px">12</option>
    <option value="24px">24</option>
    <option value="36px">36</option>
    <option value="48px">48</option>
</select><input type="color" id="colorfortext" value="#ff0000"><label for="colorfortext">Font Color</label><br>
<u>Rotation</u>
 <div class="input-group mb-3"><input type="number" id="turning_text" > <div class="input-group-append"><span class="input-group-text">degrees</span></div></div>
 <u>Alignment</u>
 <form>
 <input type="radio" name="alignment" id="left"><label for="left">Left</label>
  <input type="radio" name="alignment" id="center"><label for="center">Center</label>
   <input type="radio" name="alignment" id="right"><label for="right">right</label>
   </form>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
              <button onclick="addtext()" class="btn btn-primary">Add text</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          
        </div>
        
      </div>
    </div>
  </div>
  
</div>
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#textmodal">  Add Text</button>
  <button type="btn" id="btnSave" onclick="download()" class="btn btn-primary" ><i class="fa fa-download"></i>Download</button>

  
   

    </body>
    
</html>